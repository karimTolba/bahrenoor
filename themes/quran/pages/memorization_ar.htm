title="التحفيظ"
url="/memorize_ar"
layout="ar_layout"
description="memorization page arabic"
==

<style>

  @font-face{

    font-family: "my";
    src : url("{{'/themes/quran/assets/fonts/vt2.otf'}}");

  }

  body{

    height : 1000px;

  }

  #basmalla_area{

    font-family: "my";
    font-weight: bold;
    font-size: 40px;
    text-align: center;
    margin-bottom: 30px;

  }  

  #box_ayas{

    width : 100%;

  }

  ul{

    list-style-type: none;

  }

  li.ayah{

    display: inline;
    font-weight: bold;
    padding: 0px;
    margin-right : 20px;
    text-align: center;
    width: 100%;
    font-size : 30px;
    font-family: "my";

  }

  #number_text_shape{

    width : 60px;
    height : 60px;
    font-weight: bold;
    font-size: 20px;
    margin-right: 10px;
    background-color: transparent;
    border-radius: 50%;
    border : 3px solid;
    padding-left : 10px; 

  }

    #control_btns_mobile_media{

      display: none;

    }

    nav{

      position: static;

    }

    #h{

      margin : 50px auto 50px auto;
      padding-right : 5px;
      text-align: right;

    }
    #box_aya{

      border-top : 1px solid;
      border-bottom: 1px solid;
      margin : 20px auto;
      padding : 20px;
      text-align : center;

    }
    #box_control{

      margin : 20px auto;
      padding : 0px 5px;
      height : 50px;

    }
    #information{

        float: left;
        font-size: 20px;

    }
    #control_btns{

        display: block;
        float : right;
        font-size: 20px;

    }
    button.control_btn , #speed{

        margin-left: 10px;
        cursor: pointer;

    }
    button.control_btn{

        background-color: transparent;
        border :none;

    }
    select{

        border-radius: 10px;
        padding : 5px 10px;
        cursor: pointer;
        font-weight: bold;
    }
    
    #aya_text{

      font-size : 30px;
      font-family: "my";
      font-weight: bold;
  
    }
    .ayah{

      line-height: 2.5;

    }
    #en_trans{

        display :none;

    }
    #reciters_names , #surahs_names{

        margin-right : 20px;

    }
    .stop{

      color : red;
      display: none;

    }
    .record_btn{

      font-size: 20px;
      color : red;

    }
    #record_progress , #recorded_progress , #aya_progress{

      border : 1px solid;
      border-radius : 5px;
      font-weight : bold;
      margin-right : 30px;
      padding : 5px 5px 5px 10px;

    }
    #recorded_progress , #record_progress{

      display : none;

    }
    #footer{

      margin-top : 100px;
      position: fixed;
      bottom: 0px;
      width : 100%;
      text-align: right;
    }
    .display{

      display: none;

    }
    #cont_download a{

      text-decoration: none;
      color : red;
      border-bottom: 3px solid;
    }

    @media(max-width : 1000px){

      #box_aya{

        margin-top: 300px;
        
      }

      select{

        display : block;
        margin-bottom: 20px;

      }

      #mobile_media , #mobile_media_2{

        display: block;
        margin-bottom: 20px;

      }
      #control_btns , #information{

        float: none;

      }

      #speed , #back , #stop_record{

        margin-left: 0px;

      }
      #speed{

        margin-top : 20px;

      }
      #en_trans{

        font-size: 13px;

      }
      
    }
  
</style>

<audio src="" id="aya_audio" onended="change_shape()" preload="metadata" ontimeupdate="progress()" type="audio/mpeg"></audio>

<h1 id="h">التحفيظ</h1>
<section>
  <div id="box_control">
      <div id="information">

        <select id="reciters_names" onchange="reciter_name_change()">
            <option value="mahmood_alhusary">الحصرى</option>
            <option value="mishary_alafasy">مشارى راشد</option>
            <option value="maher_almuaiqly">ماهر المعيقلى</option>
            <option value="abdulbasit_abdulsamad_mujawwad">عبد الباسط </option>
            <option value="mohammad_alminshawi">المنشاوى</option>
            <option value="ali_alhuthaify">الحذيفى</option>
            <option value="ali_jaber">على جابر</option>
        </select>
        <select id="surahs_names" onchange="change_surah()">
            
        </select>
        <select id="aya_number" onchange="change_aya()">

        </select>
      </div>
      <div id="control_btns">
          <span id="mobile_media">
            <span id="record_progress">
              <span id="minutes">00</span> : <span id="seconds">00</span>
            </span>
            <span id="recorded_progress">
              <span>
                <span id="display_current_recorded">00 : 00</span> / <span id="recorded_duration_minutes">00</span> : <span id="recorded_duration_seconds">00</span> 
              </span>
            </span>
            <span id="aya_progress">
              <span id="display_aya_current">00 : 00</span> / 
              <span id="aya_duration_minutes">00</span> : <span id="aya_duration_seconds">00</span>
            </span>
          </span>
          <span id="mobile_media_2">
            <button class="control_btn" id="back" data-toggle="toltip" data-placement="top" title="Back"><i class="fas fa-backward"></i></button>
            <button class="control_btn" id="switch_btn" onclick="f_switch_btn()" data-toggle="toltip" data-placement="top" title="Stop"><i id="cancel_record" class="fas fa-stop"></i></button>
            <button class="control_btn display" id="cont_download">
              <a href="" id="download"  data-toggle="toltip" data-placement="top">
                <i class="fas fa-arrow-down"></i>
              </a>
            </button>
            <button class="control_btn" id="choose_btn_state" onclick="choose_state()"  data-toggle="toltip" data-placement="top" title="Play"><i class="fas fa-play" id="icon"></i></button>
            <button class="control_btn record_btn" id="record" data-toggle="toltip" data-placement="top" title="Record"><i class="fas fa-record-vinyl"></i></button>
            <button class="control_btn stop" id="stop_record" data-toggle="toltip" data-placement="top" title="Stop Recording"><i class="fas fa-stop"></i></button>
            <button class="control_btn" id="next" data-toggle="toltip" data-placement="top" title="Next"><i class="fas fa-forward"></i></button>
            <select id="show_ayas" onchange="change_ayas()">
              <option value="" selected="" disabled>عرض عدد من الآيات</option>
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
              <option value="5">5</option>
              <option value="6">6</option>
              <option value="7">7</option>
              <option value="8">8</option>
              <option value="9">9</option>
              <option value="10">10</option>
            </select>
            <select id="speed" onchange="set_audio_speed()">
                <option value="1">1x</option>
                <option value="0.75">3/4x</option>
                <option value="0.5">1/2x</option>
            </select>
        </span>
      </div>
  </div>
  <div id="box_aya" dir="rtl">

      <span id="en_trans">
          
      </span>

      <span id="aya_text">

      </span>

  </div>

  <!-- <ul id="box_ayas">

  </ul> -->
</section>

<script>

    const aya_audio = document.getElementById("aya_audio");
    const mywindow = document.getElementById("mywindow");
    const icon = document.getElementById("icon");
    const speed = document.getElementById("speed");
    const reciters_names = document.getElementById("reciters_names");
    const back = document.getElementById("back");
    const next = document.getElementById("next");
    const box_aya = document.getElementById("box_aya");
    const en_trans = document.getElementById("en_trans");
    const aya_number_text = document.getElementById("aya_number");
    const surahs_names = document.getElementById("surahs_names");
    const record = document.getElementById("record");    
    const stop_record = document.getElementById("stop_record");
    const seconds = document.getElementById("seconds");
    const minutes  = document.getElementById("minutes");
    const record_progress = document.getElementById("record_progress");
    const recorded_progress = document.getElementById("recorded_progress");
    const current = document.getElementById("current");
    const switch_btn = document.getElementById("switch_btn");
    const cancel_record = document.getElementById("cancel_record");
    const download = document.getElementById("download");
    const cont_download = document.getElementById("cont_download");
    const display_aya_current = document.getElementById("display_aya_current");
    const recorded_duration_minutes = document.getElementById("recorded_duration_minutes");
    const recorded_duration_seconds = document.getElementById("recorded_duration_seconds");
    const aya_duration_minutes = document.getElementById("aya_duration_minutes");
    const aya_duration_seconds = document.getElementById("aya_duration_seconds");
    const display_current_recorded = document.getElementById("display_current_recorded");
    const choose_btn_state = document.getElementById("choose_btn_state");
    const aya_text = document.getElementById("aya_text");
    const show_ayas = document.getElementById("show_ayas");
    const box_ayas = document.getElementById("box_ayas");
    const items = [];
    let new_aya_number = "";
    let download_name = "";
    let surah_number = 0;
    let aya_number = 0;
    let audio_aya_number = "";
    let audio_surah_number = "";
    let reciter_name = "";
    let speedRate = 0;
    let return_time_out = 0;
    let return_time_out_duration = 0 ;
    let device = {};
    let recorder = {};
    let convection_text = "";
    let aya_id = 0;
    let aya_ids = [];
    let last = 0;
    let init_seconds = 0;
    let init_minutes = 0;
    let flag = false;
    let flag_duration = false;
    let flag_timer = 0;
    let flag_switch = false;
    let reciter_number = "";
    let audio = {};
    let duration_time = 0;
    let aya_seconds = 0;
    let aya_minutes = 0;
    let convection_array = [];
    let very_new_array = [];
    let new_array = [];
    let record_duration = 0;
    let arabic_surah_number = 0;
    let arabic_aya_number = ""; 
    let number_text_shape = {};
    let comparison_value = 0;
    let back_comparison_value = 0;
    let flag_ayas = false;
    let change_way = 0;
    let ayah = {};
    let aya_one = 0;
    let first_child = "";
    let last_child = "";
    let very_very_new = [];
    let word_convay = "الٓمٓ";
    let change_way_opp = 0;
    let surahs = [
            {
              "name": "Al-Fatihah",
              "tr" : "THE OPENER" ,
              "arabic_name" : "الفاتحة" ,
              "id": 1 ,
              "aya_number" : 7
            },
            {
              "name": "Al-Baqarah",
              "tr" : "THE COW" ,
              "arabic_name" : "البقرة" ,
              "id": 2 ,
              "aya_number" : 286
            },
            {
              "name": "Al-Imran",
              "tr" : "FAMILY OF IMRAN" ,
              "arabic_name" : "آل عمران" ,
              "id": 3 ,
              "aya_number" : 200
            },
            {
              "name": "An-Nisaa",
              "tr" : "THE WOMEN" ,
              "arabic_name" : "النساء" ,
              "id": 4 ,
              "aya_number" : 176
            },
            {
              "name": "Al-Maeidah",
              "tr" : "THE TABLE OF SPREAD" ,
              "arabic_name" : "المائدة" ,
              "id": 5 ,
              "aya_number" : 120

            },
            {
              "name": "Al-Anaam",
              "tr" : "THE CATTLE" ,
              "arabic_name" : "الانعام" ,
              "id": 6 ,
              "aya_number" : 165
            },
            {
              "name": "Al-Aaraf",
              "tr" : "THE HEIGHTS" ,
              "arabic_name" : "الاعراف" ,
              "id": 7 ,
              "aya_number" : 206

            },
            {
              "name": "Al-Anfal",
              "tr" : "THE SPOILS OF WAR" ,
              "arabic_name" : "الانفال" ,
              "id": 8 ,
              "aya_number" : 75
            },
            {
              "name": "At-Taubah",
              "tr" : "THE REPETANCE" ,
              "arabic_name" : "التوبه" ,
              "id": 9 ,
              "aya_number" : 129
            },
            {
              "name": "Yunus",
              "tr" : "JONAH" ,
              "arabic_name" : "يونس" ,
              "id": 10 ,
              "aya_number" : 109
            },
            {
              "name": "Hud",
              "tr" : "HUD" ,
              "arabic_name" : "هود" ,
              "id": 11 ,
              "aya_number" : 123
            },
            {
              "name": "Yusuf",
              "tr" : "JOSEPH" ,
              "arabic_name" : "يوسف" ,
              "id": 12 ,
              "aya_number" : 111
            },
            {
              "name": "Ar-Raad",
              "tr" : "THE THUNDER" ,
              "arabic_name" : "الرعد" ,
              "id": 13 ,
              "aya_number" : 43
            },
            {
              "name": "Ibrahim",
              "tr" : "ABRAHIM" ,
              "arabic_name" : "ابراهيم" ,
              "id": 14 ,
              "aya_number" : 52
            },
            {
              "name": "Al-Hijr",
              "tr" : "THE ROCKY TRACT" ,
              "arabic_name" : "الحجر" ,
              "id": 15 ,
              "aya_number" : 99
            },
            {
              "name": "An-Nahl",
              "tr" : "THE BEE" ,
              "arabic_name" : "النحل" ,
              "id": 16 ,
              "aya_number" :128
            },
            {
              "name": "Al-Israa",
              "tr" : "THE NIGHT JOURNEY" ,
              "arabic_name" : "الاسراء" ,
              "id": 17 ,
              "aya_number" :111
            },
            {
              "name": "Al-Kahf",
              "tr" : "THE CAVE" ,
              "arabic_name" : "الكهف" ,
              "id": 18 ,
              "aya_number" :110
            },
            {
              "name": "Maryam",
              "tr" : "MARY" ,
              "arabic_name" : "مريم" ,
              "id": 19 ,
              "aya_number" : 98
            },
            {
              "name": "Ta-Ha",
              "tr" : "TA-HA" ,
              "arabic_name" : "طه" ,
              "id": 20 , 
              "aya_number" : 135
            },
            {
              "name": "Al-Anbiyaa",
              "tr" : "THE PROPHETS" ,
              "arabic_name" : "الانبياء" ,
              "id": 21 ,
              "aya_number" : 112
            },
            {
              "name": "Al-Hajj",
              "tr" : "THE PILGRIMAGE" ,
              "arabic_name" : "الحج" ,
              "id": 22 ,
              "aya_number" : 78
            },
            {
              "name": "Al-Muminun",
              "tr" : "THE BELEVERS" ,
              "arabic_name" : "المؤمنون" ,
              "id": 23 ,
              "aya_number" : 118
            },
            {
              "name": "An-Nur",
              "tr" : "THE LIGHT" ,
              "arabic_name" : "النور" ,
              "id": 24 ,
              "aya_number" : 64
            },
            {
              "name": "Al-Furqan",
              "tr" : "THE CRITERIAN" ,
              "arabic_name" : "الفرقان" ,
              "id": 25 ,
              "aya_number" : 77
            },
            {
              "name": "Ash-Shuara",
              "tr" : "THE POETS" ,
              "arabic_name" : "الشعراء" ,
              "id": 26 ,
              "aya_number" : 227
            },
            {
              "name": "An-Naml",
              "tr" : "THE ANT" ,
              "arabic_name" : "النمل" ,
              "id": 27 ,
              "aya_number" : 93
            },
            {
              "name": "Al-Qasas",
              "tr" : "THE STORIES" ,
              "arabic_name" : "القصص" ,
              "id": 28 ,
              "aya_number" : 88
            },
            {
              "name": "Al-Ankabut",
              "tr" : "THE SPIDER" ,
              "arabic_name" : "العنكبوت" ,
              "id": 29 ,
              "aya_number" : 69
            },
            {
              "name": "Ar-Rum",
              "tr" : "THE ROMANS" ,
              "arabic_name" : "الروم" ,
              "id": 30 ,
              "aya_number" : 60
            },
            {
              "name": "Luqman",
              "tr" : "LUQMAN" ,
              "arabic_name" : "لقمان" ,
              "id": 31 ,
              "aya_number" : 34
            },
            {
              "name": "As-Sajdah",
              "tr" : "THE PROSTRATION" ,
              "arabic_name" : "السجدة" ,
              "id": 32 ,
              "aya_number" : 30
            },
            {
              "name": "Al-Ahzab",
              "tr" : "THE COMBINED FORCES" ,
              "arabic_name" : "الاحزاب" ,
              "id": 33 ,
              "aya_number" : 73
            },
            {
              "name": "Sabaa",
              "tr" : "SHEBA" ,
              "arabic_name" : "سبأ" ,
              "id": 34 ,
              "aya_number" : 54
            },
            {
              "name": "Fatir",
              "tr" : "ORICINATOR" ,
              "arabic_name" : "فاطر" ,
              "id": 35 ,
              "aya_number" : 45
            },
            {
              "name": "Ya-Sin",
              "tr" : "YA SIN" ,
              "arabic_name" : "يس" ,
              "id": 36 ,
              "aya_number" : 83
            },
            {
              "name": "As-saffat",
              "tr" : "THOSE WHO SET RANKS" ,
              "arabic_name" : "الصافات" ,
              "id": 37 ,
              "aya_number" : 182
            },
            {
              "name": "Sad",
              "tr" : "THE LETTER \" SAAD \"" ,
              "arabic_name" : "ص" ,
              "id": 38 ,
              "aya_number" : 88
            },
            {
              "name": "Az-Zumar",
              "tr" : "THE TROOPS" ,
              "arabic_name" : "الزمر" ,
              "id": 39 ,
              "aya_number" : 75
            },
            {
              "name": "Ghafir",
              "tr" : "THE FORCIVER" ,
              "arabic_name" : "غافر" ,
              "id": 40 ,
              "aya_number" : 85
            },
            {
              "name": "Fussilat",
              "tr" : "EXPLAINED IN DETAIL" ,
              "arabic_name" : "فصلت" ,
              "id": 41 ,
              "aya_number" : 54
            },
            {
              "name": "Ash-Shuraa",
              "tr" : "THE CONSULTATION" ,
              "arabic_name" : "الشعراء" ,
              "id": 42 ,
              "aya_number" : 53
            },
            {
              "name": "Az-Zukhruf",
              "tr" : "THE ORNAMENTS OF COLD" ,
              "arabic_name" : "الزخرف" ,
              "id": 43 ,
              "aya_number" : 89
            },
            {
              "name": "Ad-Dukhan",
              "tr" : "THE SMOKE" ,
              "arabic_name" : "الدخان" ,
              "id": 44 ,
              "aya_number" : 59
            },
            {
              "name": "Al-Jathiyah",
              "tr" : "THE CROUCHING" ,
              "arabic_name" : "الجاثية" ,
              "id": 45 ,
              "aya_number" : 37
            },
            {
              "name": "Al-Ahqaf",
              "tr" : "THE WIND-CURVED SANDHILLS" ,
              "arabic_name" : "الاحقاف" ,
              "id": 46 ,
              "aya_number" : 35
            },
            {
              "name": "Muhammad",
              "tr" : "MUHAMMED" ,
              "arabic_name" : "محمد" ,
              "id": 47 ,
              "aya_number" : 38
            },
            {
              "name": "Al-Fath",
              "tr" : "THE VICTORY" ,
              "arabic_name" : "الفتح" ,
              "id": 48 ,
              "aya_number" : 29
            },
            {
              "name": "Al-hujurat",
              "tr" : "THE ROOMS" ,
              "arabic_name" : "الحجرات" ,
              "id": 49 ,
              "aya_number" : 18
            },
            {
              "name": "Qaf",
              "tr" : "THE LETTER \" QAF \" " ,
              "arabic_name" : "ق" ,
              "id": 50 ,
              "aya_number" : 45
            }, 
            {
              "name": "Adh-Dhariyat",
              "tr" : "THE WINNOWING WINDS" ,
              "arabic_name" : "الزاريات" ,
              "id": 51 ,
              "aya_number" : 60 
            },
            {
              "name": "At-tur",
              "tr" : "THE MOUNT" ,
              "arabic_name" : "الطور" ,
              "id": 52 ,
              "aya_number" : 49
            },
            {
              "name": "An-Najm",
              "tr" : "THE STAR" ,
              "arabic_name" : "النجم" ,
              "id": 53 ,
              "aya_number" : 62
            },
            {
              "name": "Al-Qamar",
              "tr" : "THE MOON" ,
              "arabic_name" : "القمر" ,
              "id": 54 ,
              "aya_number" : 55
            },
            {
              "name": "Ar-Rahman",
              "tr" : "THE BENEFICENT" ,
              "arabic_name" : "الرحمن" ,
              "id": 55 ,
              "aya_number" : 78
            },
            {
              "name": "Al-Waqiah",
              "tr" : "THE INEVITABLE" ,
              "arabic_name" : "الواقعة" ,
              "id": 56 ,
              "aya_number" : 96
            },
            {
              "name": "Al-hadid",
              "tr" : "THE IRON" ,
              "arabic_name" : "الحديد" ,
              "id": 57 ,
              "aya_number" : 29
            },
            {
              "name": "Al-Mujadilah",
              "tr" : "THE PLEADING WOMAN" ,
              "arabic_name" : "المجادلة" ,
              "id": 58 ,
              "aya_number" : 22
            },
            {
              "name": "Al-hashr",
              "tr" : "THE EXILE" ,
              "arabic_name" : "الحشر" ,
              "id": 59 ,
              "aya_number" : 24
            },
            {
              "name": "Al-Mumtahanah",
              "tr" : "SHE THAT IS TO BE EXAMINED" ,
              "arabic_name" : "الممتحنه" ,
              "id": 60 ,
              "aya_number" : 13
            },
            {
              "name": "As-saff",
              "tr" : "THE RANKS" ,
              "arabic_name" : "الصف" ,
              "id": 61 ,
              "aya_number" : 14
            },
            {
              "name": "Al-Jumuah",
              "tr" : "THE CONGREGATION FRIDAY" ,
              "arabic_name" : "الجمعه" ,
              "id": 62 ,
              "aya_number" : 11
            },
            {
              "name": "Al-Munafiqun",
              "tr" : "THE HYPOCRITES" ,
              "arabic_name" : "المنافقون" ,
              "id": 63 ,
              "aya_number" : 11
            },
            {
              "name": "At-Taghabun",
              "tr" : "THE MUTUAL DISILLUSION" ,
              "arabic_name" : "التغابن" ,
              "id": 64 ,
              "aya_number" : 18
            },
            {
              "name": "At-talaq",
              "tr" : "THE DIVORCE" ,
              "arabic_name" : "الطلاق" ,
              "id": 65 ,
              "aya_number" : 12
            },
            {
              "name": "At-Tahrim",
              "tr" : "THE PROHIBTION" ,
              "arabic_name" : "التحريم" ,
              "id": 66 ,
              "aya_number" : 12
            },
            {
              "name": "Al-Mulk",
              "tr" : "THE SOVEREIGNTY" ,
              "arabic_name" : "الملك" ,
              "id": 67 ,
              "aya_number" :30
            },
            {
              "name": "Al-Qalam",
              "tr" : "THE PEN" ,
              "arabic_name" : "القلم" ,
              "id": 68 ,
              "aya_number" : 52
            },
            {
              "name": "Al-haqqah",
              "tr" : "THE REALITY" ,
              "arabic_name" : "الحاقه" ,
              "id": 69 ,
              "aya_number" :52
            },
            {
              "name": "Al-Maarij",
              "tr" : "THE ASCENDING STARWAYS" ,
              "arabic_name" : "المرج" ,
              "id": 70 ,
              "aya_number" : 44
            },
            {
              "name": "Nuh",
              "tr" : "NOAH" ,
              "arabic_name" : "نوح" ,
              "id": 71 ,
              "aya_number":28
            },
            {
              "name": "Al-Jinn",
              "tr" : "THE JINN" ,
              "arabic_name" : "الجن" ,
              "id": 72 ,
              "aya_number" : 28
            },
            {
              "name": "Al-Muzzammil",
              "tr" : "THE ENSHROUDED ONE" ,
              "arabic_name" : "المزمل" ,
              "id": 73 ,
              "aya_number":20
            },
            {
              "name": "Al-Muddaththir",
              "tr" : "THE CLOAKED ONE" ,
              "arabic_name" : "المدثر" ,
              "id": 74 ,
              "aya_number" : 56
            },
            {
              "name": "Al-Qiyamah",
              "tr" : "THE RESURRECTION" ,
              "arabic_name" : "القيامة" ,
              "id": 75 ,
              "aya_number" : 40
            },
            {
              "name": "Al-Insan",
              "tr" : "THE MAN" ,
              "arabic_name" : "الانسان" ,
              "id": 76 ,
              "aya_number" : 31
            },
            {
              "name": "Al-Mursalat",
              "tr" : "THE EMISSARIES" ,
              "arabic_name" : "المرسلات" ,
              "id": 77 ,
              "aya_number" : 50 
            },
            {
              "name": "An-Nabaa",
              "tr" : "THE TIDINGS" ,
              "arabic_name" : "النبأ" ,
              "id": 78 ,
              "aya_number" : 40
            },
            {
              "name": "An-Naziaat",
              "tr" : "THOSE WHO DRAC FORTH" ,
              "arabic_name" : "النازعات" ,
              "id": 79 ,
              "aya_number" : 46
            },
            {
              "name": "Abasa",
              "tr" : "HE FROWNED" ,
              "arabic_name" : "عبس" ,
              "id": 80 ,
              "aya_number" : 42
            },
            {
              "name": "At-Takwir",
              "tr" : "THE OVERTHROWING" ,
              "arabic_name" : "التكوير" ,
              "id": 81 ,
              "aya_number" : 29
            },
            {
              "name": "Al-Infitar",
              "tr" : "THE CLEAVING" ,
              "arabic_name" : "الانفطار" ,
              "id": 82 ,
              "aya_number" : 19
            },
            {
              "name": "Al-Mutaffifin",
              "tr" : "THE DEFRAUDING" ,
              "arabic_name" : "المطففين" ,
              "id": 83 ,
              "aya_number" : 36
            },
            {
              "name": "Al-Inshiqaq",
              "tr" : "THE SUNDERING" ,
              "arabic_name" : "الانشقاق" ,
              "id": 84 ,
              "aya_number" : 25
            },
            {
              "name": "Al-Buruj",
              "tr" : "THE MANSIONS OF STARS" ,
              "arabic_name" : "البروج" ,
              "id": 85 ,
              "aya_number" : 22
            },
            {
              "name": "At-tariq",
              "tr" : "THE NIGHT COMMERS" ,
              "arabic_name" : "الطارق" ,
              "id": 86 ,
              "aya_number" : 17
            },
            {
              "name": "Al-Aala",
              "tr" : "THE MOST HIGH" ,
              "arabic_name" : "الاعلى" ,
              "id": 87 ,
              "aya_number" : 19
            },
            {
              "name": "Al-Ghashiyah",
              "tr" : "THE OVERWHELMING" ,
              "arabic_name" : "الغاشيه" ,
              "id": 88 ,
              "aya_number" : 26
            },
            {
              "name": "Al-Fajr",
              "tr" : "THE DAWN" ,
              "arabic_name" : "الفجر" ,
              "id": 89 ,
              "aya_number" : 30
            },
            {
              "name": "Al-Balad",
              "tr" : "THE CITY" ,
              "arabic_name" : "البلد" ,
              "id": 90 ,
              "aya_number" : 20
            },
            {
              "name": "Ash-Shams",
              "tr" : "THE SUN" ,
              "arabic_name" : "الشمس" ,
              "id": 91 ,
              "aya_number" : 15
            },
            {
              "name": "Al-Layl",
              "tr" : "THE NIGHT" ,
              "arabic_name" : "الليل" ,
              "id": 92 ,
              "aya_number" : 21
            },
            {
              "name": "Ad-duha",
              "tr" : "THE MORNING HOURS" ,
              "arabic_name" : "الضحى" ,
              "id": 93 ,
              "aya_number" : 11
            },
            {
              "name": "Ash-Sharh",
              "tr" : "THE RELIEF" ,
              "arabic_name" : "الشرح" ,
              "id": 94 ,
              "aya_number" : 8
            },
            {
              "name": "At-Tin",
              "tr" : "THE FIC" ,
              "arabic_name" : "التين" ,
              "id": 95 ,
              "aya_number" : 8
            },
            {
              "name": "Al-aAlaq",
              "tr" : "THE CLOT" ,
              "arabic_name" : "العلق" ,
              "id": 96 ,
              "aya_number" : 19
            },
            {
              "name": "Al-Qadr",
              "tr" : "THE POWER" ,
              "arabic_name" : "القدر" ,
              "id": 97 ,
              "aya_number" :5
            },
            {
              "name": "Al-Bayyinah",
              "tr" : "THE CLEAR PROOF" ,
              "arabic_name" : "البينه" ,
              "id": 98 ,
              "aya_number" : 8
            },
            {
              "name": "Az-Zalzalah",
              "tr" : "THE EARTHQUAKE" ,
              "arabic_name" : "الزلزلة" ,
              "id": 99 ,
              "aya_number" : 8

            },
            {
              "name": "Al-Adiyat",
              "tr" : "THE COURSER" ,
              "arabic_name" : "العاديات" ,
              "id": 100 ,
              "aya_number" : 11
            },
            {
              "name": "Al-Qariaah",
              "tr" : "THE CALAMITY" ,
              "arabic_name" : "القارعة" ,
              "id": 101 ,
              "aya_number" : 11
            },
            {
              "name": "At-Takathur",
              "tr" : "THE RIVALRY IN WORLD INCREASE" ,
              "arabic_name" : "التكاثر" ,
              "id": 102 ,
              "aya_number" : 8
            },
            {
              "name": "Al-Asr",
              "tr" : "THE DECLINING DAY" ,
              "arabic_name" : "العصر" ,
              "id": 103 ,
              "aya_number" : 3
            },
            {
              "name": "Al-Humazah",
              "tr" : "THE TRADUCER" ,
              "arabic_name" : "الهمزة" ,
              "id": 104 ,
              "aya_number" : 9
            },
            {
              "name": "Al-Fil",
              "tr" : "THE ELEPHANT" ,
              "arabic_name" : "الفيل" ,
              "id": 105 ,
              "aya_number" : 5
            },
            {
              "name": "Quraysh",
              "tr" : "QURAYSH" ,
              "arabic_name" : "قريش" ,
              "id": 106 ,
              "aya_number" : 4
            },
            {
              "name": "Al-Maun",
              "tr" : "THE SMALL KINDESSES" ,
              "arabic_name" : "المعون" ,
              "id": 107 ,
              "aya_number" : 7
            },
            {
              "name": "Al-Kawthar",
              "tr" : "THE ABUNDANCE" ,
              "arabic_name" : "الكوثر" ,
              "id": 108 ,
              "aya_number" : 3
            },
            {
              "name": "Al-Kafirun",
              "tr" : "THE DISBELIVERS" ,
              "arabic_name" : "الكافرون" ,
              "id": 109 ,
              "aya_number" : 6
            },
            {
              "name": "An-Nasr",
              "tr" : "THE DIVINE SUPPORT" ,
              "arabic_name" : "النصر" ,
              "id": 110 ,
              "aya_number" : 3
            },
            {
              "name": "Al-Masad",
              "tr" : "THE PALM FIBER" ,
              "arabic_name" : "المسد" ,
              "id": 111 ,
              "aya_number" : 5
            },
            {
              "name": "Al-Ikhlas",
              "tr" : "THE SINCERITY" ,
              "arabic_name" : "الاخلاص" ,
              "id": 112 ,
              "aya_number" : 4
            },
            {
              "name": "Al-Falaq",
              "tr" : "THE DAYBREAK" ,
              "arabic_name" : "الفلق" ,
              "id": 113 ,
              "aya_number" : 5
            },
            {
              "name": "An-Nas",
              "tr" : "THE MANKIND" ,
              "arabic_name" : "الناس" ,
              "id": 114 ,
              "aya_number" : 6
            }
          ]

    document.addEventListener("scroll" , function(e){

      if(window.scrollY == window.scrollMaxY)
        document.getElementById("footer").style.display = "block";
      else
        document.getElementById("footer").style.display = "none";  

    });
          
    window.onload = () => {

      document.getElementById("footer").style.display = "none";
        
        switch_btn.removeAttribute("onclick");

        show_ayas.selectedIndex = 0;

        for(let i = 0 ; i < surahs.length; i++){

            let option = document.createElement("option");
            option.value =  surahs[i].name  + "/" + surahs[i].id;
            let text = document.createTextNode(surahs[i].arabic_name);
            option.appendChild(text);
            surahs_names.appendChild(option);

        }

        
        for(let i = 1 ; i <= 7; i++){

            let option = document.createElement("option");
            option.className = "number_class";
            option.value = i;
            let text = document.createTextNode(i);
            option.appendChild(text);
            aya_number_text.appendChild(option);

        }

    }

    
    for(let i = 0 ;i < surahs.length;i++){

      if(i == 0){

      for(let x = 1 ; x <= surahs[i].aya_number;x++){
       
        convection_array.push(`${surahs[i].name}:${x}`);

      }
    }
      else{

        for(let x = 0;x <= surahs[i].aya_number;x++){

          if(x == 0){

            if(surahs[i].name != "At-Taubah")
            //   convection_array.push();
            // else
              convection_array.push(`${surahs[i].name}:${x}`);

          }
          else  
            convection_array.push(`${surahs[i].name}:${x}`);

        }

      }


      }

      console.log(convection_array)


    
    $.ajax({

        method : "GET" ,
        url : `https://api.mp3quran.net/api/aya?surah=${surahs[0].id}&aya=${convection_array[aya_number].split(":")[1]}&language=en` ,
        dataType : "json" ,
        success : (data) => {

            box_aya.innerText = "";                                      
            aya_text.innerText = data.ayah_text == "الم" ? word_convay : data.ayah_text;
            number_text_shape = document.createElement("button");
            number_text_shape.setAttribute("id" , "number_text_shape");
            number_text_shape.innerText = data.aya_id;
            box_aya.append(aya_text);
            aya_text.append(number_text_shape);
            audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
            audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
            download_name =  `${audio_surah_number}${audio_aya_number}`; 
            if(audio_aya_number == "001" && audio_surah_number == "001")
                back.setAttribute("disabled" , ""); 
            aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciters_names.value}/${reciters_names.value == 'ali_jaber' ? '64' : '128'}/${audio_surah_number}${audio_surah_number}.mp3`);
            aya_audio.load();
            reciter_name = reciters_names.value;
            reciter_number = reciters_names.value == 'ali_jaber' ? '64' : '128';
            
        }

    });

    back.onclick = ()=>{

        display_aya_current.innerHTML = "00 : 00";
        choose_btn_state.setAttribute("title" , "play");

        if(next.hasAttribute("disabled"))
            next.removeAttribute("disabled");
        if(icon.className == "fas fa-pause" || icon.className == "fas fa-redo")
            icon.className = "fas fa-play";  
            
        if(show_ayas.value == ""){

         if(convection_array[aya_number] == "At-Taubah:1"){

            surah_number--;
            aya_number--;
            very_new_array = [];

            $.ajax({

              method : "GET" ,
              async : false ,
              url : `https://api.mp3quran.net/api/aya?surah=${surahs[surah_number].id}&aya=${convection_array[aya_number].split(":")[1]}&language=en` ,
              dataType : "json" ,
              success : (data) => {

                  box_aya.innerText = "";                                      
                  aya_text.innerText = data.ayah_text;
                  number_text_shape = document.createElement("button");
                  number_text_shape.setAttribute("id" , "number_text_shape");
                  number_text_shape.innerText = data.aya_id;
                  box_aya.append(aya_text);
                  aya_text.append(number_text_shape);

                  surahs_names.selectedIndex = surah_number;
                  
                  let options = document.getElementsByClassName("number_class");

                  for(let i = 0 ; i < surahs.length ;i++){

                    if(surahs[i].name == surahs_names.value.split("/")[0]){

                      
                      for(let x = options.length - 1 ; x >=0  ; x--){

                        options[x].parentNode.removeChild(options[x]);  

                      }                      
                      
                      for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                        let option = document.createElement("option");
                        option.className = "number_class";
                        option.value = x;
                        let text = document.createTextNode(x);
                        option.appendChild(text);
                        aya_number_text.appendChild(option);
                        

                    }


                    }

                  }  
                audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                if(Number(audio_aya_number) < 10)
                    new_aya_number = audio_aya_number.slice(2);
                else if(Number(audio_aya_number) >= 10 && Number(audio_aya_number) < 100)
                  new_aya_number = audio_aya_number.slice(1);
                else
                  new_aya_number = audio_aya_number;  
                audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                download_name =  `${audio_surah_number}${audio_aya_number}`;
                new_array = Object.entries(aya_number_text.options);
                for(let i = 0 ; i < new_array.length;i++){

                  very_new_array.push(new_array[i][1].value);

                }

                aya_number_text.selectedIndex = very_new_array.indexOf(new_aya_number);
                if(audio_aya_number == "001" && audio_surah_number == "001")
                    back.setAttribute("disabled" , ""); 
                aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                aya_audio.load();           

                  }    
              });

            }

            else if(convection_array[aya_number].split(":")[1] == "0"){

            surah_number--;
            aya_number--;
            very_new_array = [];

            $.ajax({

              method : "GET" ,
              async : false ,
              url : `https://api.mp3quran.net/api/aya?surah=${surahs[surah_number].id}&aya=${convection_array[aya_number].split(":")[1]}&language=en` ,
              dataType : "json" ,
              success : (data) => {

                  box_aya.innerText = "";                                      
                  aya_text.innerText = data.ayah_text;
                  number_text_shape = document.createElement("button");
                  number_text_shape.setAttribute("id" , "number_text_shape");
                  number_text_shape.innerText = data.aya_id;
                  box_aya.append(aya_text);
                  aya_text.append(number_text_shape);

                surahs_names.selectedIndex = surah_number;
                  
                  let options = document.getElementsByClassName("number_class");

                  for(let i = 0 ; i < surahs.length ;i++){

                    if(surahs[i].name == surahs_names.value.split("/")[0]){

                      
                      for(let x = options.length - 1 ; x >=0  ; x--){

                        options[x].parentNode.removeChild(options[x]);  

                      }                      
                      
                      for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                        let option = document.createElement("option");
                        option.className = "number_class";
                        option.value = x;
                        let text = document.createTextNode(x);
                        option.appendChild(text);
                        aya_number_text.appendChild(option);
                        

                    }


                    }

                  }  
                audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                if(Number(audio_aya_number) < 10)
                    new_aya_number = audio_aya_number.slice(2);
                else if(Number(audio_aya_number) >= 10 && Number(audio_aya_number) < 100)
                  new_aya_number = audio_aya_number.slice(1);
                else
                  new_aya_number = audio_aya_number;  
                audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                download_name =  `${audio_surah_number}${audio_aya_number}`;
                new_array = Object.entries(aya_number_text.options);
                for(let i = 0 ; i < new_array.length;i++){

                  very_new_array.push(new_array[i][1].value);

                }

                aya_number_text.selectedIndex = very_new_array.indexOf(new_aya_number);
                if(audio_aya_number == "001" && audio_surah_number == "001")
                    back.setAttribute("disabled" , ""); 
                aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                aya_audio.load();           

                  }    
              });

            }

            else{

              aya_number--;
          
              change_way = 1;

              flag_ayas = true;
              
              let convay_id_number = convection_array[aya_number].split(":")[1] == "0" ? "1" : surahs[surah_number].id;

              let convay_aya_number = convection_array[aya_number].split(":")[1] == "0" ? "1" :  convection_array[aya_number].split(":")[1];

              box_aya.innerHTML = "";

              $.ajax({

                method : "GET" ,
                async : false ,
                url : `https://api.mp3quran.net/api/aya?surah=${convay_id_number}&aya=${convay_aya_number}&language=en` ,
                dataType : "json" ,
                success : (data) => {
                  
                  ayah = document.createElement("li");
                  let text = document.createTextNode(data.ayah_text == "الم" ? word_convay : data.ayah_text);
                  number_text_shape = document.createElement("button");

                  ayah.appendChild(text);
                  ayah.className = "ayah";

                  number_text_shape.setAttribute("id" , "number_text_shape");
                  if(convay_aya_number == "1" && convay_id_number == "1" && surahs[surah_number].id != "1"){

                    number_text_shape.innerText = "";
                    number_text_shape.style.border = "none";

                  }
                  else{
                    number_text_shape.innerText = data.aya_id;
                  }  
                  ayah.append(number_text_shape);

                  box_aya.appendChild(ayah);  
                        
                  audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                  if(Number(audio_aya_number) < 10)
                      new_aya_number = audio_aya_number.slice(2);
                  else if(Number(audio_aya_number) >= 10 && Number(audio_aya_number) < 100)
                    new_aya_number = audio_aya_number.slice(1);
                  else
                    new_aya_number = audio_aya_number;  
                  audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                  download_name =  `${audio_surah_number}${audio_aya_number}`;
                  new_array = Object.entries(aya_number_text.options);
                  for(let i = 0 ; i < new_array.length;i++){

                    very_new_array.push(new_array[i][1].value);

                  }

                  if(audio_aya_number == "001" && audio_surah_number == "001" && surahs[surah_number].id == "1")
                      back.setAttribute("disabled" , "");
                  if(box_aya.childNodes.length == 1){
                    aya_number_text.selectedIndex = very_new_array.indexOf(new_aya_number);
                    aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                    aya_audio.load();           
                  }  
                  }
                  
                });



            }

          }

          else{

            let i = 0;

            let x = 0;

            change_way = 1;

            flag_ayas = true;

            change_way_opp = 0;

            if(box_aya.firstElementChild.firstElementChild == null){

              let surah_start = convection_array.indexOf(surahs[surah_number].name + ":" + "0");

              back_comparison_value = (surah_start - 1);

              surah_number--;

              surahs_names.selectedIndex = surah_number;

              let rondom_number = surahs[surah_number].name == "Al-Fatihah" ? "1" : "0";

              i = (back_comparison_value - Number(show_ayas.value)) <= surah_start ? (convection_array.indexOf(surahs[surah_number].name + ":" + rondom_number))  : (back_comparison_value - Number(show_ayas.value));

              new_array = [];

              very_new_array = [];

              let options = document.getElementsByClassName("number_class");

                for(let i = 0 ; i < surahs.length ;i++){

                  if(surahs[i].name == surahs_names.value.split("/")[0]){

                    
                    for(let x = options.length - 1 ; x >=0  ; x--){

                      options[x].parentNode.removeChild(options[x]);  

                    }                      
                    
                    for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                      let option = document.createElement("option");
                      option.className = "number_class";
                      option.value = x;
                      let text = document.createTextNode(x);
                      option.appendChild(text);
                      aya_number_text.appendChild(option);
                      

                  }


                  }

                }
                
                console.log(`${i} / ${back_comparison_value}`);
              

            }

            else if(convection_array[aya_number] == "At-Taubah:1"){

              let surah_start = convection_array.indexOf(surahs[surah_number].name + ":" + "1");

              back_comparison_value = (surah_start - 1);

              surah_number--;

              surahs_names.selectedIndex = surah_number;

              i = (back_comparison_value - Number(show_ayas.value)); 

              new_array = [];

              very_new_array = [];

              let options = document.getElementsByClassName("number_class");

                for(let i = 0 ; i < surahs.length ;i++){

                  if(surahs[i].name == surahs_names.value.split("/")[0]){

                    
                    for(let x = options.length - 1 ; x >=0  ; x--){

                      options[x].parentNode.removeChild(options[x]);  

                    }                      
                    
                    for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                      let option = document.createElement("option");
                      option.className = "number_class";
                      option.value = x;
                      let text = document.createTextNode(x);
                      option.appendChild(text);
                      aya_number_text.appendChild(option);
                      

                  }


                  }

                }  


            }

            else{

              back_comparison_value = (convection_array.indexOf(surahs[surah_number].name + ":" + (box_aya.firstElementChild.firstElementChild == null ? "0" : box_aya.firstElementChild.firstElementChild.innerText)) - 1);

              let convay_aya_number = convection_array.indexOf(surahs[surah_number].name + ":" + "0");

              if(back_comparison_value - Number(show_ayas.value) <= convay_aya_number)

                i = convay_aya_number;
                
              else
              
                i = (back_comparison_value - Number(show_ayas.value));

            }
            

            box_aya.innerHTML = "";

            for( ; i <= back_comparison_value;i++){

              let convay = convection_array[i].split(":")[1];

              change_way_opp++;

              let surah_id = surahs[surah_number].id;
              $.ajax({

                method : "GET" ,
                async : false ,
                url : `https://api.mp3quran.net/api/aya?surah=${convay == "0" ? "1" : surah_id}&aya=${convay == "0" ? "1" : convay}&language=en` ,
                dataType : "json" ,
                success : (data) => {

                  x++;
                  
                  if(convay == "0"){
                  let basmalla_area = document.createElement("div");
                  basmalla_area.setAttribute("id" , "basmalla_area");
                  let text_basmalla = document.createTextNode(data.ayah_text);
                  basmalla_area.appendChild(text_basmalla);
                  box_aya.appendChild(basmalla_area);
                  }else{      
                  ayah = document.createElement("li");
                  let text = document.createTextNode(data.ayah_text == "الم" ? word_convay : data.ayah_text);
                  number_text_shape = document.createElement("button");

                  ayah.appendChild(text);
                  ayah.className = "ayah";

                  number_text_shape.setAttribute("id" , "number_text_shape");
                  number_text_shape.innerText = data.aya_id;

                  ayah.append(number_text_shape);

                  box_aya.appendChild(ayah);
                }      
                  audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                  if(Number(audio_aya_number) < 10)
                      new_aya_number = audio_aya_number.slice(2);
                  else if(Number(audio_aya_number) >= 10 && Number(audio_aya_number) < 100)
                    new_aya_number = audio_aya_number.slice(1);
                  else
                    new_aya_number = audio_aya_number;  
                  audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                  download_name =  `${audio_surah_number}${audio_aya_number}`;
                  new_array = Object.entries(aya_number_text.options);
                  for(let i = 0 ; i < new_array.length;i++){

                    very_new_array.push(new_array[i][1].value);

                  }

                  if(show_ayas.value != "")
                    aya_number = convection_array.indexOf(surahs[surah_number].name + ":" + (convay == "0" ? "0" : data.aya_id));
                  if(audio_aya_number == "001" && audio_surah_number == "001" && surahs[surah_number].id == "1")
                      back.setAttribute("disabled" , "");
                  if(x == 1){
                    console.log(aya_number_text[0]);  
                    if(convay == "0")
                      aya_number_text.selectedIndex = "0";
                    else{
                      aya_number_text.selectedIndex = very_new_array.indexOf(new_aya_number);
                      console.log(aya_number_text["1"]);
                    }
                    aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                    aya_audio.load();           
                  }  
                  }
                  
                });



            }

          }

          
        }

      

    next.onclick = ()=>{  

        display_aya_current.innerHTML = "00 : 00";
        choose_btn_state.setAttribute("title" , "play");

        if(back.hasAttribute("disabled"))
            back.removeAttribute("disabled");
        if(icon.className == "fas fa-pause" || icon.className == "fas fa-redo")
            icon.className = "fas fa-play";
            
        aya_number++;
        
        if(convection_array[aya_number] == "At-Taubah:1"){

          if(show_ayas.value == ""){
          surah_number++;
          very_new_array = [];

          $.ajax({

            method : "GET" ,
            async : false ,
            url : `https://api.mp3quran.net/api/aya?surah=${surahs[surah_number].id}&aya=${convection_array[aya_number].split(":")[1]}&language=en` ,
            dataType : "json" ,
            success : (data) => {

              box_aya.innerText = "";                                      
              aya_text.innerText = data.ayah_text;
              number_text_shape = document.createElement("button");
              number_text_shape.setAttribute("id" , "number_text_shape");
              number_text_shape.innerText = data.aya_id;
              box_aya.append(aya_text);
              aya_text.append(number_text_shape);

              surahs_names.selectedIndex = surah_number;
                
                let options = document.getElementsByClassName("number_class");

                for(let i = 0 ; i < surahs.length ;i++){

                  if(surahs[i].name == surahs_names.value.split("/")[0]){

                    
                    for(let x = options.length - 1 ; x >=0  ; x--){

                      options[x].parentNode.removeChild(options[x]);  

                    }                      
                    
                    for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                      let option = document.createElement("option");
                      option.className = "number_class";
                      option.value = x;
                      let text = document.createTextNode(x);
                      option.appendChild(text);
                      aya_number_text.appendChild(option);
                      

                  }


                  }

                }  
              audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
              if(Number(audio_aya_number) < 10)
                  new_aya_number = audio_aya_number.slice(2);
              else if(Number(audio_aya_number) >= 10 && Number(audio_aya_number) < 100)
                new_aya_number = audio_aya_number.slice(1);
              else
                new_aya_number = audio_aya_number;  
              audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
              download_name =  `${audio_surah_number}${audio_aya_number}`;
              new_array = Object.entries(aya_number_text.options);
              for(let i = 0 ; i < new_array.length;i++){

                very_new_array.push(new_array[i][1].value);

              }

              aya_number_text.selectedIndex = very_new_array.indexOf(new_aya_number);
              if(audio_aya_number == "001" && audio_surah_number == "001")
                  back.setAttribute("disabled" , ""); 
              aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
              aya_audio.load();
              aya_audio.play();
              icon.className = "fas fa-pause";           

                }    
            });
          }

          else{

            surah_number++;

            surahs_names.selectedIndex = surah_number;

            let options = document.getElementsByClassName("number_class");

            for(let i = 0 ; i < surahs.length ;i++){

              if(surahs[i].name == surahs_names.value.split("/")[0]){

                
                for(let x = options.length - 1 ; x >=0  ; x--){

                  options[x].parentNode.removeChild(options[x]);  

                }
                
                if(surahs_names.value.split("/")[0] == "At-Taubah"){

                  for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                    let option = document.createElement("option");
                    option.className = "number_class";
                    option.value = x;
                    let text = document.createTextNode(x);
                    option.appendChild(text);
                    aya_number_text.appendChild(option);


                    }

                }
                else{

                  if(surahs_names.value.split("/")[0] == "Al-Fatihah"){

                    for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                      let option = document.createElement("option");
                      option.className = "number_class";
                      option.value = x;
                      let text = document.createTextNode(x);
                      option.appendChild(text);
                      aya_number_text.appendChild(option);


                      }

                  }

                  else{

                  for(let x = 0 ; x <= surahs[i].aya_number ;x++){

                    let option = document.createElement("option");
                    option.className = "number_class";
                    option.value = x;
                    let text = document.createTextNode(x);
                    option.appendChild(text);
                    aya_number_text.appendChild(option);


                    }
                  }

                }
                

              }

            }  

            flag_ayas = true;

            change_way = 1;

            change_way_opp = 0;

            let i = convection_array.indexOf(surahs[surah_number].name + ":" + "1");

            let index_max_aya = convection_array.indexOf(surahs[surah_number].name + ":" + surahs[surah_number].aya_number); 

            let basmalla_comp = (i + Number(show_ayas.value)) > index_max_aya ? index_max_aya : (i + Number(show_ayas.value));

            box_aya.innerHTML = "";

            let x = "";

            for( ; i <= basmalla_comp ; i++){

              change_way_opp++;

              x = convection_array[i].split(":")[1];

              $.ajax({
                method : "GET" ,
                async : false ,
                url : `https://api.mp3quran.net/api/aya?surah=${x == "0" ? 1 : (surahs[surah_number].id)}&aya=${x == "0" ? 1 : x}&language=en` ,

                dataType : "json" ,
                success : (data) => {
                  
                  if(convection_array[i].split(":")[1] == "0"){
                    let basmalla_area = document.createElement("div");
                    basmalla_area.setAttribute("id" , "basmalla_area");
                    let text_basmalla = document.createTextNode(data.ayah_text);
                    basmalla_area.appendChild(text_basmalla);
                    box_aya.appendChild(basmalla_area);
                  }else{      
                    ayah = document.createElement("li");
                    let text = document.createTextNode(data.ayah_text == "الم" ? word_convay : data.ayah_text);
                    number_text_shape = document.createElement("button");

                    ayah.appendChild(text);
                    ayah.className = "ayah";

                    number_text_shape.setAttribute("id" , "number_text_shape");
                    number_text_shape.innerText = data.aya_id;

                    ayah.append(number_text_shape);

                    box_aya.appendChild(ayah);
                  }                              
                  audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                  if(Number(audio_aya_number) < 10)
                    new_aya_number = audio_aya_number.slice(2);
                  else if(Number(audio_aya_number) >= 10 && Number(audio_aya_number) < 100)
                    new_aya_number = audio_aya_number.slice(1);
                  else
                    new_aya_number = audio_aya_number;  
                  audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                  download_name =  `${audio_surah_number}${audio_aya_number}`;
                  new_array = Object.entries(aya_number_text.options);
                  for(let i = 0 ; i < new_array.length;i++){

                    very_new_array.push(new_array[i][1].value);

                  }

                  very_very_new.push(very_new_array.indexOf(new_aya_number));

                  if(audio_aya_number == "006" && audio_surah_number == "114")
                    next.setAttribute("disabled" , "");
                    if(convection_array[i].split(":")[1] == "1"){
                      aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                      aya_audio.load();
                      aya_audio.play();
                      icon.className = "fas fa-pause";
                      aya_number = convection_array.indexOf(surahs[surah_number].name + ":" + "1"); 
                    }

                }

              });

            }

            }

        }

            else if(convection_array[aya_number].split(":")[1] == "0"){

              surah_number++;
              surahs_names.selectedIndex = surah_number;

              if(show_ayas.value == ""){

              $.ajax({

              method : "GET" ,
              url : `https://api.mp3quran.net/api/aya?surah=1&aya=1&language=ar` ,
              dataType : "json" ,
              success : (data) => {

              let options = document.getElementsByClassName("number_class");

              for(let i = 0 ; i < surahs.length ;i++){

                if(surahs[i].name == surahs_names.value.split("/")[0]){

                  
                  for(let x = options.length - 1 ; x >=0  ; x--){

                    options[x].parentNode.removeChild(options[x]);  

                  }
                  
                  if(surahs[i].name == "Al-Fatihah"){

                    for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                      let option = document.createElement("option");
                      option.className = "number_class";
                      option.value = x;
                      let text = document.createTextNode(x);
                      option.appendChild(text);
                      aya_number_text.appendChild(option);

                      }
                  }
                  else{

                    for(let x = 0 ; x <= surahs[i].aya_number ;x++){

                      let option = document.createElement("option");
                      option.className = "number_class";
                      option.value = x;
                      let text = document.createTextNode(x);
                      option.appendChild(text);
                      aya_number_text.appendChild(option);


                      }
                  }           

                }

              }  
              very_new_array = [];
              aya_number_text.selectedIndex = 0;
              box_aya.innerText = "";                                      
              aya_text.innerText = data.ayah_text;
              number_text_shape = document.createElement("button");
              number_text_shape.setAttribute("id" , "number_text_shape");
              number_text_shape.innerText = "";
              number_text_shape.style.border = "none";
              box_aya.append(aya_text);
              aya_text.append(number_text_shape);
              aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciters_names.value}/${reciters_names.value == 'ali_jaber' ? '64' : '128'}/001001.mp3`);
              aya_audio.load();
              aya_audio.play();
              icon.className = "fas fa-pause";

            }
          });

        }

        else{

          let options = document.getElementsByClassName("number_class");

          for(let i = 0 ; i < surahs.length ;i++){

            if(surahs[i].name == surahs_names.value.split("/")[0]){

              
              for(let x = options.length - 1 ; x >=0  ; x--){

                options[x].parentNode.removeChild(options[x]);  

              }
              
              if(surahs_names.value.split("/")[0] == "At-Taubah"){

                for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                  let option = document.createElement("option");
                  option.className = "number_class";
                  option.value = x;
                  let text = document.createTextNode(x);
                  option.appendChild(text);
                  aya_number_text.appendChild(option);


                  }

              }
              else{

                if(surahs_names.value.split("/")[0] == "Al-Fatihah"){

                  for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                    let option = document.createElement("option");
                    option.className = "number_class";
                    option.value = x;
                    let text = document.createTextNode(x);
                    option.appendChild(text);
                    aya_number_text.appendChild(option);


                    }

                }

                else{

                for(let x = 0 ; x <= surahs[i].aya_number ;x++){

                  let option = document.createElement("option");
                  option.className = "number_class";
                  option.value = x;
                  let text = document.createTextNode(x);
                  option.appendChild(text);
                  aya_number_text.appendChild(option);


                  }
                }

              }
              

            }

          }  

          flag_ayas = true;

          change_way = 1;

          change_way_opp = 0;

          let i = convection_array.indexOf(surahs[surah_number].name + ":" + "0");

          let index_max_aya = convection_array.indexOf(surahs[surah_number].name + ":" + surahs[surah_number].aya_number); 

          let basmalla_comp = (i + Number(show_ayas.value)) > index_max_aya ? index_max_aya : (i + Number(show_ayas.value));

          box_aya.innerHTML = "";

          let x = "";

          for( ; i <= basmalla_comp ; i++){

            change_way_opp++;

            x = convection_array[i].split(":")[1];

            $.ajax({
              method : "GET" ,
              async : false ,
              url : `https://api.mp3quran.net/api/aya?surah=${x == "0" ? 1 : (surahs[surah_number].id)}&aya=${x == "0" ? 1 : x}&language=en` ,

              dataType : "json" ,
              success : (data) => {
                
                if(convection_array[i].split(":")[1] == "0"){
                  let basmalla_area = document.createElement("div");
                  basmalla_area.setAttribute("id" , "basmalla_area");
                  let text_basmalla = document.createTextNode(data.ayah_text);
                  basmalla_area.appendChild(text_basmalla);
                  box_aya.appendChild(basmalla_area);
                }else{      
                  ayah = document.createElement("li");
                  let text = document.createTextNode(data.ayah_text == "الم" ? word_convay : data.ayah_text);
                  number_text_shape = document.createElement("button");

                  ayah.appendChild(text);
                  ayah.className = "ayah";

                  number_text_shape.setAttribute("id" , "number_text_shape");
                  number_text_shape.innerText = data.aya_id;

                  ayah.append(number_text_shape);

                  box_aya.appendChild(ayah);
                }                              
                audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                if(Number(audio_aya_number) < 10)
                  new_aya_number = audio_aya_number.slice(2);
                else if(Number(audio_aya_number) >= 10 && Number(audio_aya_number) < 100)
                  new_aya_number = audio_aya_number.slice(1);
                else
                  new_aya_number = audio_aya_number;  
                audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                download_name =  `${audio_surah_number}${audio_aya_number}`;
                new_array = Object.entries(aya_number_text.options);
                for(let i = 0 ; i < new_array.length;i++){

                  very_new_array.push(new_array[i][1].value);

                }

                very_very_new.push(very_new_array.indexOf(new_aya_number));

                if(audio_aya_number == "006" && audio_surah_number == "114")
                  next.setAttribute("disabled" , "");
                  if(convection_array[i].split(":")[1] == "0"){
                    aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                    aya_audio.load();
                    aya_audio.play();
                    icon.className = "fas fa-pause";
                    aya_number = convection_array.indexOf(surahs[surah_number].name + ":" + "0"); 
                  }

              }

            });

          }
          
        }

        
            }
            else{

                very_very_new = [];

                very_new_array = [];

                change_way = 1;

                change_way_opp = 0;

                last_child = box_aya.lastElementChild.lastElementChild.innerText;
                
                let box = box_aya.lastElementChild.firstElementChild.innerText == "" ? "0" : box_aya.lastElementChild.firstElementChild.innerText;

                let aya_index = convection_array.indexOf(surahs[surah_number].name + ":" + box);

                let i = 0;
                
                let surah_aya_number_index = convection_array.indexOf(surahs[surah_number].name + ":" + surahs[surah_number].aya_number);

                let residual = (aya_index + Number(show_ayas.value)) > surah_aya_number_index ? "true"  : "false";

                if(show_ayas.value != ""){

                  i = aya_index + 1;
                  comparison_value = i + Number(show_ayas.value);
                  flag_ayas = true; 

                }

                else{

                  comparison_value = 1;

                } 

                box_aya.innerHTML = "";

                let x = 0;

                aya_one = i;

                for( ; i < ( residual == "true" ? (surah_aya_number_index + 1) : comparison_value) ;i++){   
                
                change_way_opp++;  

                x++;

                $.ajax({
                  method : "GET" ,
                  async : false ,
                  url : `https://api.mp3quran.net/api/aya?surah=${surahs[surah_number].id}&aya=${convection_array[show_ayas.value == "" ? aya_number : i].split(":")[1]}&language=en` ,
                  dataType : "json" ,
                  success : (data) => {
                    
                    if(show_ayas.value != "")
                      aya_number = i;  
                    
                    ayah = document.createElement("li");
                    let text = document.createTextNode(data.ayah_text == "الم" ? word_convay : data.ayah_text);
                    number_text_shape = document.createElement("button");

                    ayah.appendChild(text);
                    ayah.className = "ayah";

                    number_text_shape.setAttribute("id" , "number_text_shape");
                    number_text_shape.innerText = data.aya_id;

                    ayah.append(number_text_shape);

                    box_aya.appendChild(ayah);  
                      
                    audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                    if(Number(audio_aya_number) < 10)
                      new_aya_number = audio_aya_number.slice(2);
                    else if(Number(audio_aya_number) >= 10 && Number(audio_aya_number) < 100)
                      new_aya_number = audio_aya_number.slice(1);
                    else
                      new_aya_number = audio_aya_number;  
                    audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                    download_name =  `${audio_surah_number}${audio_aya_number}`;
                    new_array = Object.entries(aya_number_text.options);
                    for(let i = 0 ; i < new_array.length;i++){

                      very_new_array.push(new_array[i][1].value);

                    }

                    if(audio_aya_number == "006" && audio_surah_number == "114")
                      next.setAttribute("disabled" , "");
                      if(box_aya.childNodes.length == 1){
                        aya_number_text.selectedIndex = very_new_array.indexOf(new_aya_number);
                        aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                        aya_audio.load();
                        aya_audio.play();
                        icon.className = "fas fa-pause";
                      }

                    first_child = box_aya.childNodes[0].lastElementChild.innerText;  

                  }

                });

              }

              aya_number = convection_array.indexOf(surahs[surah_number].name + ":" + first_child);

              }

             ;

            }

            function reciter_name_change(){

                display_aya_current.innerHTML = "00 : 00";

                reciter_name = reciters_names.value;

                if(icon.className == "fas fa-pause")
                    icon.className = "fas fa-play";

                if(reciter_name == "ali_jaber")
                    reciter_number = "64"; 
                else 
                    reciter_number = "128";

                if(aya_number_text.value == "0") 
                  aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciters_names.value}/${reciter_number}/001001.mp3`);
                else   
                  aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciters_names.value}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                aya_audio.load();

                if(flag_ayas == true)
                  change_way--;
            }

            function choose_state(){

                aya_audio.playbackRate = speedRate == 0 ? speed.value : speedRate;
                let icon_class_name = icon.className;
                switch(icon_class_name){

                    case "fas fa-play" :
                        if(flag_switch == false){
                          aya_audio.play();
                          icon.className = "fas fa-pause";
                          choose_btn_state.setAttribute("title" , "Pause"); 
                          switch_btn.setAttribute("onclick" , "f_switch_btn()");
                        }
                        else{
                          flag_timer = 0;
                          aya_audio.play();
                          icon.className = "fas fa-pause";
                          choose_btn_state.setAttribute("title" , "Pause Recording");
                          recorded_progress.style.display = "inline";
                          record_progress.style.display = "none";
                          recorded_progress.style.color = "red";
                        }
                        break;
                    case "fas fa-pause" : 
                        aya_audio.pause();
                        if(flag_switch == false)
                          choose_btn_state.setAttribute("title" , "Play");
                        else
                          choose_btn_state.setAttribute("title" , "Play Recording");
                        icon.className = "fas fa-play";
                        break;
                    case "fas fa-redo" :
                      if(flag_switch == false){
                          if(show_ayas.value == "") 
                            aya_audio.play();
                          icon.className = "fas fa-pause";
                          choose_btn_state.setAttribute("title" , "Pause");
                          switch_btn.setAttribute("onclick" , "f_switch_btn()");
                        }
                        else{
                          icon.className = "fas fa-pause";
                          if(show_ayas.value == "")
                            aya_audio.play();
                          choose_btn_state.setAttribute("title" , "Pause Recording");
                          recorded_progress.style.display = "inline";
                          record_progress.style.display = "none";
                          recorded_progress.style.color = "red";
                        }
                        if(show_ayas.value != ""){

                          let change_redo = "";

                          if(flag_ayas_supra == true){

                            /*

                               1 - this part for put basmalla in aya_number
                               2 - put the result at aya_number_text index

                            */

                            if(typeof basmalla_area == "undefined")
                              change_redo = document.getElementsByClassName("ayah")[0].firstElementChild.innerText;
                            else                 
                              change_redo = "0";

                            aya_number = convection_array.indexOf(surahs[surah_number].name + ":" + document.getElementsByClassName("ayah")[0].firstElementChild.innerText);

                            $.ajax({

                              method : "GET" ,
                              async : false ,
                              url : `https://api.mp3quran.net/api/aya?surah=${change_redo == "0" ? "1" : surahs[surah_number].id}&aya=${change_redo == "0" ? "1" : convection_array[aya_number].split(":")[1]}&language=en` ,
                              dataType : "json" ,
                              success : (data) => {

                                audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                                if(Number(audio_aya_number) < 10)
                                  new_aya_number = audio_aya_number.slice(2);
                                else if(Number(audio_aya_number) >= 10 && Number(audio_aya_number) < 100)
                                  new_aya_number = audio_aya_number.slice(1);
                                else
                                  new_aya_number = audio_aya_number;  
                                audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                                download_name =  `${audio_surah_number}${audio_aya_number}`;
                                new_array = Object.entries(aya_number_text.options);
                                for(let i = 0 ; i < new_array.length;i++){

                                  very_new_array.push(new_array[i][1].value);

                                }

                                aya_number_text.selectedIndex = change_redo == "0" ? "0" : very_new_array.indexOf(new_aya_number);
                                audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                                download_name =  `${audio_surah_number}${audio_aya_number}`; 
                                aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                                aya_audio.load();
                                aya_audio.play();  
                                
                              }

                            });

                          }

                          flag_ayas = true;

                          change_way = 1;

                      }
                        break;              
                }

            }

            function change_shape(){

                icon.className = "fas fa-redo";
                if(flag_switch == false){  
                  choose_btn_state.setAttribute("title" , "Replay");
                  switch_btn.removeAttribute("onclick");
                }
                else
                  choose_btn_state.setAttribute("title" , "Replay Recording");

                aya_number = convection_array.indexOf(surahs[surah_number].name + ":" + aya_number_text.value);  

                console.log(`${change_way} / ${change_way_opp}`);

                if(change_way >= change_way_opp)

                  flag_ayas = false;
                
                if(flag_ayas == true && aya_audio.getAttribute("src").split("/")[6] != "001001.mp3"){

                  aya_number++;

                  change_way++;
                  
                  icon.className = "fas fa-pause";

                  very_new_array = [];

                  $.ajax({

                    method : "GET" ,
                    url : `https://api.mp3quran.net/api/aya?surah=${surahs[surah_number].id}&aya=${convection_array[aya_number].split(":")[1]}&language=en` ,
                    dataType : "json" ,
                    success : (data) => {

                      audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                      if(Number(audio_aya_number) < 10)
                        new_aya_number = audio_aya_number.slice(2);
                      else if(Number(audio_aya_number) >= 10 && Number(audio_aya_number) < 100)
                        new_aya_number = audio_aya_number.slice(1);
                      else
                        new_aya_number = audio_aya_number;  
                      audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                      download_name =  `${audio_surah_number}${audio_aya_number}`;
                      new_array = Object.entries(aya_number_text.options);
                      for(let i = 0 ; i < new_array.length;i++){

                        very_new_array.push(new_array[i][1].value);

                      }

                      aya_number_text.selectedIndex = very_new_array.indexOf(new_aya_number);
                      aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciters_names.value}/${reciters_names.value == 'ali_jaber' ? '64' : '128'}/${audio_surah_number}${audio_aya_number}.mp3`);
                      aya_audio.load();
                      aya_audio.play();
                      reciter_name = reciters_names.value;
                      reciter_number = reciters_names.value == 'ali_jaber' ? '64' : '128';

                    }

                    });

                }
                
                else{

                  if(aya_audio.getAttribute("src").split("/")[6] == "001001.mp3"){

                      aya_number = aya_number + 1;

                      back.removeAttribute("disabled");

                      icon.className = "fas fa-pause";

                      $.ajax({

                      method : "GET" ,
                      url : `https://api.mp3quran.net/api/aya?surah=${surahs[surah_number].id}&aya=${convection_array[aya_number].split(":")[1]}&language=ar` ,
                      dataType : "json" ,
                      success : (data) => {

                        if(flag_ayas == false && show_ayas.value == ""){

                          box_aya.innerText = "";                                      
                          aya_text.innerText = data.ayah_text == "الم" ? word_convay : data.ayah_text;
                          number_text_shape = document.createElement("button");
                          number_text_shape.setAttribute("id" , "number_text_shape");
                          number_text_shape.innerText = data.aya_id;
                          box_aya.append(aya_text);
                          aya_text.append(number_text_shape);
                          
                        }
                        else{

                          change_way++;  

                        }

                  
                        if(window.innerWidth < 1000){

                          box_aya.style.backgroundSize = "100% 15%";
                          en_trans.style.fontSize = "13px";
                          
                        }
                        en_trans.textContent = data.ayah_text_lang;
                        audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                        audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                        download_name =  `${audio_surah_number}${audio_aya_number}`;
                        aya_number_text.selectedIndex = 1;
                        aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciters_names.value}/${reciters_names.value == 'ali_jaber' ? '64' : '128'}/${audio_surah_number}${audio_aya_number}.mp3`);
                        aya_audio.load();
                        aya_audio.play();
                        reciter_name = reciters_names.value;
                        reciter_number = reciters_names.value == 'ali_jaber' ? '64' : '128';

                      }

                      });
                  }
                  
                }   
            }

            function set_audio_speed(){

                speedRate = parseFloat(speed.value);

            }

            let y = 0;

            function  change_surah(){

                display_aya_current.innerHTML = "00 : 00";

                let options = document.getElementsByClassName("number_class");

                for(let i = 0 ; i < surahs.length ;i++){

                  if(surahs[i].name == surahs_names.value.split("/")[0]){

                    
                    for(let x = options.length - 1 ; x >=0  ; x--){

                      options[x].parentNode.removeChild(options[x]);  

                    }
                    
                    if(surahs_names.value.split("/")[0] == "At-Taubah"){

                      for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                        let option = document.createElement("option");
                        option.className = "number_class";
                        option.value = x;
                        let text = document.createTextNode(x);
                        option.appendChild(text);
                        aya_number_text.appendChild(option);


                        }

                    }
                    else{

                      if(surahs_names.value.split("/")[0] == "Al-Fatihah"){

                        for(let x = 1 ; x <= surahs[i].aya_number ;x++){

                          let option = document.createElement("option");
                          option.className = "number_class";
                          option.value = x;
                          let text = document.createTextNode(x);
                          option.appendChild(text);
                          aya_number_text.appendChild(option);


                          }

                      }

                      else{

                      for(let x = 0 ; x <= surahs[i].aya_number ;x++){

                        let option = document.createElement("option");
                        option.className = "number_class";
                        option.value = x;
                        let text = document.createTextNode(x);
                        option.appendChild(text);
                        aya_number_text.appendChild(option);


                        }
                      }

                    }
                    

                  }
                
                }  

                if(surahs_names.value.split("/")[1] == "1" && aya_number_text.value == "1"){
                    back.setAttribute("disabled" , "");
                    if(next.hasAttribute("disabled"))
                      next.removeAttribute("disabled");
                }
                else
                    back.removeAttribute("disabled");    
                if(surahs_names.value.split("/")[1] == "114" && aya_number_text.value == "6")
                    next.setAttribute("disabled" , "");
                else
                    next.removeAttribute("disabled");

                if(icon.className == "fas fa-pause" || icon.className == "fas fa-redo")
                    icon.className = "fas fa-play";
                    
                //aya_number = Number(aya_number_text.value);

                convection_text = surahs_names.value.split("/")[0] + ":" + aya_number_text.value;

                for(let i = 0 ;i < convection_array.length;i++){

                  if(convection_array[i] == convection_text){

                    aya_number = i;

                  }

                }
                surah_number = Number(surahs_names.value.split("/")[1]) - 1;
                
                if(aya_number_text.value == "0")
                {
                  $.ajax({

                    method : "GET" ,
                    url : `https://api.mp3quran.net/api/aya?surah=1&aya=1&language=en` ,
                    dataType : "json" ,
                    success : (data) => {
                    box_aya.innerText = "";
                    aya_text.innerText = data.ayah_text;
                    number_text_shape = document.createElement("button");
                    number_text_shape.setAttribute("id" , "number_text_shape");
                    number_text_shape.innerText = "";
                    number_text_shape.style.border = "none";
                    box_aya.append(aya_text);
                    aya_text.append(number_text_shape);
                    aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciters_names.value}/${reciters_names.value == 'ali_jaber' ? '64' : '128'}/001001.mp3`);
                    aya_audio.load();

                  }
                  });

                }
                else{

                $.ajax({

                    method : "GET" ,
                    url : `https://api.mp3quran.net/api/aya?surah=${surahs_names.value.split("/")[1]}&aya=${aya_number_text.value}&language=en` ,
                    dataType : "json" ,
                    success : (data) => {
                        box_aya.innerText = "";
                        aya_text.innerText = data.ayah_text;
                        number_text_shape = document.createElement("button");
                        number_text_shape.setAttribute("id" , "number_text_shape");
                        number_text_shape.innerText = data.aya_id;
                        box_aya.append(aya_text);
                        aya_text.append(number_text_shape);
                        audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                        audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                        download_name =  `${audio_surah_number}${audio_aya_number}`; 
                        aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                        aya_audio.load();  
                
                    }

                });

              }

            }

            function change_aya(){

                flag_ayas = false;

                display_aya_current.innerHTML = "00 : 00";

                if(surahs_names.value.split("/")[1] == "1" && aya_number_text.value == "1"){
                    back.setAttribute("disabled" , "");
                    if(next.hasAttribute("disabled"))
                      next.removeAttribute("disabled");
                }
                else
                    back.removeAttribute("disabled");    
                if(surahs_names.value.split("/")[1] == "114" && aya_number_text.value == "6")
                    next.setAttribute("disabled" , "");
                else
                    next.removeAttribute("disabled");    
                if(icon.className == "fas fa-pause" || icon.className == "fas fa-redo")
                    icon.className = "fas fa-play";
                    
                convection_text = surahs_names.value.split("/")[0] + ":" + aya_number_text.value;

                for(let i = 0 ;i < convection_array.length;i++){

                  if(convection_array[i] == convection_text){

                    aya_number = i;

                  }

                }
                surah_number = Number(surahs_names.value.split("/")[1]) - 1;

                if(aya_number_text.value == "0"){

                  $.ajax({

                    method : "GET" ,
                    url : `https://api.mp3quran.net/api/aya?surah=1&aya=1&language=en` ,
                    dataType : "json" ,
                    success : (data) => {

                    box_aya.innerText = "";
                    aya_text.innerText = data.ayah_text;
                    number_text_shape = document.createElement("button");
                    number_text_shape.setAttribute("id" , "number_text_shape");
                    number_text_shape.style.border = "none";
                    number_text_shape.innerText = "";
                    box_aya.append(aya_text);
                    aya_text.append(number_text_shape);
                    aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciters_names.value}/${reciters_names.value == 'ali_jaber' ? '64' : '128'}/001001.mp3`);
                    aya_audio.load();

                    }
                  });

                }
              else{
                  $.ajax({

                      method : "GET" ,
                      url : `https://api.mp3quran.net/api/aya?surah=${surahs_names.value.split("/")[1]}&aya=${aya_number_text.value}&language=en` ,
                      dataType : "json" ,
                      success : (data) => {
                          box_aya.innerText = "";
                          aya_text.innerText = data.ayah_text == "الم" ? word_convay : data.ayah_text;
                          number_text_shape = document.createElement("button");
                          number_text_shape.setAttribute("id" , "number_text_shape");
                          number_text_shape.innerText = data.aya_id;
                          box_aya.append(aya_text);
                          aya_text.append(number_text_shape);
                          audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                          audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                          download_name =  `${audio_surah_number}${audio_aya_number}`; 
                          aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                          aya_audio.load();  

                      }

                  });
              }

              }

              function work_timer(){

                if(init_seconds == 60){

                  init_seconds = 0;
                  init_minutes++
                  minutes.innerHTML  = init_minutes  < 10 ? `0${init_minutes}` : init_minutes;

                }
                
                seconds.innerHTML = init_seconds < 10 ? `0${init_seconds}` : init_seconds;

                duration_time = init_seconds + (init_minutes * 60);

                init_seconds++;

                return_time_out = setTimeout(work_timer , 1000);

              }

              record.onclick = ()=>{

                icon.className = "fas fa-play";
                icon.style.color = "red";
                recorded_progress.style.display = "none";
                record_progress.style.display = "inline";
                aya_progress.style.display = "none";
                record_progress.style.color = "red"; 
                switch_btn.removeAttribute("onclick");
                back.setAttribute("disabled" , "");
                next.setAttribute("disabled" , "");
                cont_download.style.display = "none";
                switch_btn.style.display = "none";
                choose_btn_state.style.display = "none";
                back.style.display = "none";
                next.style.display = "none";
                seconds.innerHTML = "00";
                minutes.innerHTML = "00";
                flag_duration = true;
                flag_switch = true; 
                init_minutes = 0;
                init_seconds = 0; 
                device = navigator.mediaDevices.getUserMedia({audio : true}).then(stream => {

                  recorder = new MediaRecorder(stream);

                  recorder.ondataavailable = (e)=>{

                    items.push(e.data);

                    if(recorder.state == "inactive"){

                      const blob = new Blob( items , {'type' : 'video/webm'});
                      let src = URL.createObjectURL(blob);
                      aya_audio.removeAttribute("src");  
                      aya_audio.setAttribute("src" , src);
                      download.setAttribute("href" , src);
                      download.setAttribute("download" , `${download_name}.webm`);
                      download.setAttribute("title" , `Download Recording`);
                      cont_download.style.display = "inline";  
                    }

                  }

                  recorder.start();
                  work_timer();

                  stop_record.style.display = "inline";
                  record.style.display = "none";

                });

              }

              stop_record.onclick = ()=>{

                items.shift();
                recorder.stop();
                clearTimeout(return_time_out);
                recorded_duration_minutes.innerHTML = (duration_time/60) > 10  ? (duration_time/60).toString().split(".")[0] : `0${(duration_time/60).toString().split(".")[0]}`;
                recorded_duration_seconds.innerHTML = (duration_time%60) > 10 ? (duration_time%60).toString().split(".")[0] : `0${(duration_time%60).toString().split(".")[0]}`;  
                icon.className = "fas fa-play";
                stop_record.style.display = "none";
                record.style.display = "inline";
                record_progress.style.display = "none";
                recorded_progress.style.display = "inline";
                recorded_progress.style.margin = "0px 5px 0px 5px";
                recorded_progress.style.color = "red"; 
                switch_btn.setAttribute("onclick" , "f_switch_btn()");
                switch_btn.style.display = "inline";
                choose_btn_state.style.display = "inline";
                choose_btn_state.setAttribute("title" , "Play Recording");
  
              }

              function f_switch_btn(){
                
                if(flag_switch == false){

                  aya_audio.currentTime = 0;
                  aya_audio.pause();
                  icon.className = "fas fa-play";
                  switch_btn.removeAttribute("onclick");

                }
                else{
                  
                  if(aya_text.innerText != "بِسْمِ ٱللَّهِ ٱلرَّحْمَٰنِ ٱلرَّحِيمِ1")
                    back.removeAttribute("disabled");
                  if(aya_text.innerText != "مِنَ ٱلْجِنَّةِ وَٱلنَّاسِ6")
                    next.removeAttribute("disabled");
                  icon.className = "fas fa-play";
                  icon.style.color = "black";
                  record_progress.style.display = "none";
                  recorded_progress.style.display = "none";
                  aya_progress.style.display = "inline";
                  aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                  aya_audio.load();
                  switch_btn.removeAttribute("onclick");
                  flag_switch = false;
                  flag_duration = false;
                  cont_download.style.display = "none";
                  display_aya_current.innerHTML = "00 : 00";
                  choose_btn_state.setAttribute("title" , "play");
                  back.style.display = "inline";
                  next.style.display = "inline"; 
                  choose_btn_state.setAttribute("title" , "play");

                }


              }
            aya_audio.onloadedmetadata = ()=>{

              let duration = aya_audio.duration;
              aya_duration_minutes.innerHTML = (duration/60) > 10  ? (duration/60).toString().split(".")[0] : `0${(duration/60).toString().split(".")[0]}`;
              aya_duration_seconds.innerHTML = (duration%60) > 10 ? (duration%60).toString().split(".")[0] : `0${(duration%60).toString().split(".")[0]}`;  
              
            }

          function displayCurrentTime(current){

            aya_minutes = Math.floor(current / 60);

            aya_seconds = Math.floor(current - (aya_minutes * 60));
            
            return `${aya_minutes  >= 10  ? aya_minutes  : '0' + aya_minutes} : ${aya_seconds >= 10 ? aya_seconds : '0' + aya_seconds}`;

          }  

          function progress(){

            if(flag_duration == false)

              display_aya_current.innerHTML = displayCurrentTime(aya_audio.currentTime);
            
            else
            
              display_current_recorded.innerHTML = displayCurrentTime(aya_audio.currentTime);

          }

          function change_ayas(){

            icon.className = "fas fa-play";

            box_aya.innerText = "";

            flag_ayas_supra = true;

            let index_aya = convection_array.indexOf(surahs[surah_number].name + ":" + aya_number_text.value);

            aya_number = index_aya;

            flag_ayas = true;

            change_way = 1;

            if(Number(show_ayas.value) > surahs[surah_number].aya_number || (Number(show_ayas.value) + Number(aya_number_text.value)) > surahs[surah_number].aya_number){

              comparison_value = surahs[surah_number].aya_number + 1;

            }

            else{

              comparison_value = (Number(show_ayas.value) + (Number(aya_number_text.value) == 0 ? 1 : Number(aya_number_text.value)));

            }

            if(aya_number_text.value == "0"){
              aya_number_text.selectedIndex = "1";
              aya_number++;
            }
            
            change_way_opp = 0;

            let i = Number(aya_number_text.value) == 0 ? Number(aya_number_text.value) + 1 : Number(aya_number_text.value);  

            $.ajax({

              method : "GET" ,
              async : false ,
              url : `https://api.mp3quran.net/api/aya?surah=${surahs[surah_number].id}&aya=${convection_array[aya_number].split(":")[1]}&language=en` ,
              dataType : "json" ,
              success : (data) => {

                audio_aya_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(3);
                audio_surah_number = data.image_url.split("//")[1].split("/")[2].split(".")[0].slice(0 , 3);
                download_name =  `${audio_surah_number}${audio_aya_number}`; 
                aya_audio.setAttribute("src" , `https://verse.mp3quran.net/arabic/${reciter_name}/${reciter_number}/${audio_surah_number}${audio_aya_number}.mp3`);
                aya_audio.load();  
                
              }

              });


            let abbas = 0;  

            for( ; i < comparison_value ; i++){

              change_way_opp++;

              $.ajax({

                method : "GET" ,
                async : false ,
                url : `https://api.mp3quran.net/api/aya?surah=${surahs[surah_number].id}&aya=${i}&language=en` ,
                dataType : "json" ,
                success : (data) => {

                  ayah = document.createElement("li");
                  let text = document.createTextNode(data.ayah_text == "الم" ? word_convay : data.ayah_text);
                  number_text_shape = document.createElement("button");

                  ayah.appendChild(text);

                  ayah.className = "ayah";                  

                  number_text_shape.setAttribute("id" , "number_text_shape");
                  number_text_shape.innerText = data.aya_id;

                  ayah.append(number_text_shape);

                  box_aya.appendChild(ayah);

                  aya_number = convection_array.indexOf(surahs[surah_number].name + ":" + i);                        
                  
                }

              });

            }
                  
          if((box_aya.getBoundingClientRect().y + box_aya.getBoundingClientRect().height) >= mywindow.clientHeight){
            mywindow.style.height = `${mywindow.clientHeight + 1000}px`;
          }else{
            mywindow.style.height = `${1000}px`;
          }
          
          if(convection_array.indexOf(surahs[surah_number].name  +  ":" + box_aya.childNodes[0].lastElementChild.innerText) == 0)
            back.setAttribute("disabled" , "");
          else
            back.removeAttribute("disabled");
          if(convection_array.indexOf(surahs[surah_number].name + ":" + box_aya.lastElementChild.lastElementChild.innerText) == 6347)  
            next.setAttribute("disabled" , "");
          else
            next.removeAttribute("disabled");
            
        } 

          
</script>
